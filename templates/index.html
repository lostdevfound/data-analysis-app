{% extends "base.html" %}
{% block content %}
<div class="container-fluid text-center">
    <div class="row content">
        <div class="row topform">
            <div class="col-sm-12">
                <div class="form-inline">
                        <p> Select input </p>
                        <select id="selectData" class="form-control custform">
                            <option value="Stock">Stock Data (recommended)</option>
                            <option value="Weather">Weather</option>
                            <!-- <option value="Random">Work in progress</option> -->
                        </select>
                        <button class="btn btn-primary" id="computeButton"type="button">Compute</button>
                </div>
            </div>
        </div>
        </div>
        <div class="row">
            <!-- Column with parameters -->
            <div id="paramsBlock"class="col-sm-2 sidenav">
                <!-- parameters could be here -->
            </div>

            <!-- Graphs column -->
            <div class="col-sm-9 text-left">
                <p> This webapp runs Fourier Analysis on the selected data. Fourier Analysis describes general functions as a sum of simpler trigonometric functions.
                    The implemented algorithm works with periodic and non periodic discrete data. The process starts from synthesizing an analytical function which fits the data.
                    The generated function is decomposed into waves of different frequencies and amplitudes.
                    Observing the magnitudes and frequencies one can find periodic patterns such as seasonality and linear trends over the time domain.
                </p>
                <div class="row">
                    <div id="graphBlock" class="col-sm-12 center-block">

                        <div class="row">
                            <div class="col-sm-12 center-block">
                                <h3> Original Data <small id="origDataText"></small> </h3>
                                <div id="firstPlotDiv"></div>
                                <div id="firstPlotScript"></div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm-12 center-block">
                                <h3> Fourier Series <small>
                                    The process starts with a construction of the curve that fits the original data. The fitting curve is generated by sums of trigonometric functions.
                                    This technique is called Fourier series.
                                </small>
                                </h3>
                                <div id="fourierParams" class="form-inline">
                                    <p> Approximation value = <p id="aproxValue">2</p>
                                        <small><p id="instructions">By dragging the slider towards higher values the blue colored function will better fit the data.</p></small>
                                    </p>
                                    <div class="well">
                                        <input id="fourierN" value="2" type="range" min="1" max="40" step="1">
                                    </div>
                                </div>
                                <!-- Plot data -->
                                <div class="graphContainer">
                                    <div class="loader"></div>
                                    <div class="bokehDivBloc" id="origPlotDiv">
                                        <!-- {{ origPlot|safe }} -->
                                    </div>
                                </div>
                                <div class="bokehScriptBlock" id="origPlotScript">
                                    <!-- {{ origScript|safe }} -->
                                </div>

                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm-8 center-block">
                                <!-- Plot data -->
                                <div class="bokehDivBloc" id="ampPlotDiv">
                                    <!-- {{ ampPlot|safe }} -->
                                </div>
                                <div class="bokehScriptBlock" id="ampPlotScript">
                                    <!-- {{ ampScript|safe }} -->
                                </div>
                            </div>

                            <div class="col-sm-4 center-block">
                                <!-- Plot data -->
                                <div class="bokehDivBloc" id="freqPlotDiv">
                                    <!-- {{ freqPlot|safe }} -->
                                </div>
                                <div class="bokehScriptBlock" id="freqPlotScript">
                                    <!-- {{ freqScript|safe }} -->
                                </div>
                            </div>
                        </div>
                        <div class="row:">
                            <div class="col-sm-12 center-block">
                                <h3> Trend
                                    <small>
                                        The algorithm decomposes the analytical function into different waves based on their frequencies.
                                        By tunning the frequencies one can denoise or detrend the data.
                                    </small>
                                </h3>
                                <div id="fourierParams" class="form-inline">
                                    <p> Denoise value = <p id="convolutionValue">0</p></p>
                                    <div class="well">
                                        <input id="convolutionSlider" value="0" type="range" min="0" max="10" step="1">
                                    </div>
                                    <p> Detrend value = <p id="detrendValue">0</p></p>
                                    <div class="well">
                                        <input id="detrendSlider" value="0" type="range" min="0" max="10" step="1">
                                    </div>
                                </div>
                                <div class="graphContainer2">
                                    <div class="loader"></div>
                                    <div class="bokehDivBlock" id="trendPlotDiv">
                                        <!-- trendplot div -->
                                    </div>
                                </div>
                                <div class="bokehScriptBlock" id="trendPlotScript">
                                    <!-- trendplot script -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <!-- Column at the right -->
            <div class="col-sm-1 sidenav center-block">
            </div>
        </div>
    </div>
</div>
{% endblock %}
